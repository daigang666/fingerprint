<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>@gangdai/fingerprint - æµè§ˆå™¨è®¾å¤‡æŒ‡çº¹åº“</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
</head>
<body>
  <!-- å¯¼èˆªæ  -->
  <nav class="navbar">
    <div class="container">
      <a href="#" class="logo">@gangdai/fingerprint</a>
      <div class="nav-links">
        <a href="#features">ç‰¹æ€§</a>
        <a href="#install">å®‰è£…</a>
        <a href="#usage">ä½¿ç”¨</a>
        <a href="#api">API</a>
        <a href="#demo">åœ¨çº¿æµ‹è¯•</a>
        <a href="https://github.com/gangdai/fingerprint" target="_blank">GitHub</a>
      </div>
    </div>
  </nav>

  <!-- Hero åŒºåŸŸ -->
  <header class="hero">
    <div class="container">
      <h1>@gangdai/fingerprint</h1>
      <p class="tagline">è½»é‡çº§ã€é›¶ä¾èµ–çš„æµè§ˆå™¨è®¾å¤‡æŒ‡çº¹é‡‡é›†åº“</p>
      <div class="hero-badges">
        <span class="badge">TypeScript</span>
        <span class="badge">é›¶ä¾èµ–</span>
        <span class="badge">ESM + CJS</span>
        <span class="badge">&lt; 25KB</span>
      </div>
      <div class="hero-actions">
        <a href="#demo" class="btn btn-primary">åœ¨çº¿æµ‹è¯•</a>
        <a href="#install" class="btn btn-secondary">å¿«é€Ÿå¼€å§‹</a>
      </div>
    </div>
  </header>

  <!-- ç‰¹æ€§ -->
  <section id="features" class="section">
    <div class="container">
      <h2>æ ¸å¿ƒç‰¹æ€§</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">ğŸ”’</div>
          <h3>é«˜ç²¾åº¦æŒ‡çº¹</h3>
          <p>ç»“åˆ Canvasã€WebGLã€Audioã€å±å¹•ã€ç³»ç»Ÿç­‰å¤šç»´åº¦ä¿¡æ¯ç”Ÿæˆå”¯ä¸€è®¾å¤‡æ ‡è¯†</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸ’¾</div>
          <h3>æ™ºèƒ½ç¼“å­˜</h3>
          <p>IndexedDB + LocalStorage åŒå±‚ç¼“å­˜ï¼Œé»˜è®¤ 20 å¹´æœ‰æ•ˆæœŸï¼ŒæŒä¹…ç¨³å®š</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸš€</div>
          <h3>è½»é‡é«˜æ•ˆ</h3>
          <p>é›¶ä¾èµ–ï¼Œæ‰“åŒ…ä½“ç§¯å°äº 25KBï¼Œå¼‚æ­¥é‡‡é›†ä¸é˜»å¡ä¸»çº¿ç¨‹</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸ“¦</div>
          <h3>å¼€ç®±å³ç”¨</h3>
          <p>ç®€æ´ API è®¾è®¡ï¼Œå®Œæ•´ TypeScript ç±»å‹æ”¯æŒï¼ŒESM/CJS åŒæ ¼å¼</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸ”„</div>
          <h3>å…œåº•æœºåˆ¶</h3>
          <p>é‡‡é›†å¤±è´¥æ—¶è‡ªåŠ¨ç”Ÿæˆ UUID ä½œä¸ºå…œåº•æ ‡è¯†ï¼Œç¡®ä¿å§‹ç»ˆæœ‰è¿”å›å€¼</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸ¯</div>
          <h3>çµæ´»é…ç½®</h3>
          <p>æ”¯æŒè‡ªå®šä¹‰ç¼“å­˜æ—¶é—´ã€å­˜å‚¨å‰ç¼€ã€ä¸¥æ ¼æµè§ˆå™¨æ¨¡å¼ç­‰é…ç½®é¡¹</p>
        </div>
      </div>
    </div>
  </section>

  <!-- å®‰è£… -->
  <section id="install" class="section section-alt">
    <div class="container">
      <h2>å®‰è£…</h2>
      <div class="install-options">
        <div class="install-option">
          <h4>pnpm (æ¨è)</h4>
          <pre><code class="language-bash">pnpm add @gangdai/fingerprint</code></pre>
        </div>
        <div class="install-option">
          <h4>npm</h4>
          <pre><code class="language-bash">npm install @gangdai/fingerprint</code></pre>
        </div>
        <div class="install-option">
          <h4>yarn</h4>
          <pre><code class="language-bash">yarn add @gangdai/fingerprint</code></pre>
        </div>
      </div>
    </div>
  </section>

  <!-- ä½¿ç”¨ç¤ºä¾‹ -->
  <section id="usage" class="section">
    <div class="container">
      <h2>ä½¿ç”¨ç¤ºä¾‹</h2>

      <div class="usage-block">
        <h3>åŸºç¡€ç”¨æ³•</h3>
        <pre><code class="language-typescript">import { getFingerprint, getDeviceFingerprint } from '@gangdai/fingerprint';

// æ–¹å¼1: è·å–æŒ‡çº¹å­—ç¬¦ä¸²
const fingerprint = await getFingerprint();
console.log(fingerprint); // "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6"

// æ–¹å¼2: è·å–å®Œæ•´ç»“æœ
const result = await getDeviceFingerprint();
console.log(result.fingerprint); // 32ä½ MD5 å“ˆå¸Œ
console.log(result.isFallback);  // æ˜¯å¦ä¸ºå…œåº• UUID
console.log(result.timestamp);   // é‡‡é›†æ—¶é—´æˆ³
console.log(result.expiresAt);   // è¿‡æœŸæ—¶é—´æˆ³</code></pre>
      </div>

      <div class="usage-block">
        <h3>è‡ªå®šä¹‰é…ç½®</h3>
        <pre><code class="language-typescript">import { initFingerprint, getDeviceFingerprint } from '@gangdai/fingerprint';

// åˆå§‹åŒ–é…ç½®
initFingerprint({
  cacheExpiry: 7 * 24 * 60 * 60 * 1000,  // ç¼“å­˜ 7 å¤©
  enableIndexedDB: true,                  // å¯ç”¨ IndexedDB
  storageKeyPrefix: 'myapp',              // è‡ªå®šä¹‰å­˜å‚¨å‰ç¼€
  strictBrowserMode: false,               // ä¸¥æ ¼æµè§ˆå™¨æ¨¡å¼ï¼ˆåŒºåˆ†åŒè®¾å¤‡ä¸åŒæµè§ˆå™¨ï¼‰
});

const result = await getDeviceFingerprint();</code></pre>
      </div>

      <div class="usage-block">
        <h3>åœ¨ HTTP è¯·æ±‚ä¸­ä½¿ç”¨</h3>
        <pre><code class="language-typescript">import { getFingerprint, HTTP_HEADER_NAME } from '@gangdai/fingerprint';
import axios from 'axios';

const fingerprint = await getFingerprint();

// åœ¨è¯·æ±‚å¤´ä¸­æºå¸¦æŒ‡çº¹
axios.post('/api/login', data, {
  headers: {
    [HTTP_HEADER_NAME]: fingerprint,  // 'X-Device-Fingerprint'
  },
});</code></pre>
      </div>

      <div class="usage-block">
        <h3>åˆ·æ–°å’Œæ¸…é™¤</h3>
        <pre><code class="language-typescript">import { refreshFingerprint, clearFingerprint } from '@gangdai/fingerprint';

// å¼ºåˆ¶é‡æ–°é‡‡é›†æŒ‡çº¹ï¼ˆå¿½ç•¥ç¼“å­˜ï¼‰
const newResult = await refreshFingerprint();

// æ¸…é™¤ç¼“å­˜çš„æŒ‡çº¹æ•°æ®
await clearFingerprint();</code></pre>
      </div>
    </div>
  </section>

  <!-- API æ–‡æ¡£ -->
  <section id="api" class="section section-alt">
    <div class="container">
      <h2>API æ–‡æ¡£</h2>

      <div class="api-section">
        <h3>å‡½æ•°</h3>

        <div class="api-item">
          <h4><code>getFingerprint(): Promise&lt;string&gt;</code></h4>
          <p>è·å–è®¾å¤‡æŒ‡çº¹å­—ç¬¦ä¸²ï¼ˆç®€åŒ–ç‰ˆï¼‰ã€‚</p>
          <div class="api-returns">
            <strong>è¿”å›å€¼ï¼š</strong> 32ä½ MD5 å“ˆå¸Œå­—ç¬¦ä¸²
          </div>
        </div>

        <div class="api-item">
          <h4><code>getDeviceFingerprint(): Promise&lt;FingerprintResult&gt;</code></h4>
          <p>è·å–å®Œæ•´çš„è®¾å¤‡æŒ‡çº¹ä¿¡æ¯ã€‚</p>
          <div class="api-returns">
            <strong>è¿”å›å€¼ï¼š</strong>
            <pre><code class="language-typescript">interface FingerprintResult {
  fingerprint: string;  // 32ä½ MD5 å“ˆå¸Œå€¼
  isFallback: boolean;  // æ˜¯å¦ä¸ºå…œåº• UUID
  timestamp: number;    // é‡‡é›†æ—¶é—´æˆ³
  expiresAt: number;    // è¿‡æœŸæ—¶é—´æˆ³
}</code></pre>
          </div>
        </div>

        <div class="api-item">
          <h4><code>initFingerprint(config?: FingerprintConfig): void</code></h4>
          <p>åˆå§‹åŒ–æŒ‡çº¹æ¨¡å—é…ç½®ï¼ˆå¯é€‰ï¼Œä¸è°ƒç”¨åˆ™ä½¿ç”¨é»˜è®¤é…ç½®ï¼‰ã€‚</p>
        </div>

        <div class="api-item">
          <h4><code>refreshFingerprint(): Promise&lt;FingerprintResult&gt;</code></h4>
          <p>å¼ºåˆ¶åˆ·æ–°æŒ‡çº¹ï¼ˆé‡æ–°é‡‡é›†ï¼Œå¿½ç•¥ç¼“å­˜ï¼‰ã€‚</p>
        </div>

        <div class="api-item">
          <h4><code>clearFingerprint(): Promise&lt;void&gt;</code></h4>
          <p>æ¸…é™¤ç¼“å­˜çš„æŒ‡çº¹æ•°æ®ã€‚</p>
        </div>

        <div class="api-item">
          <h4><code>getHeaderName(): string</code></h4>
          <p>è·å– HTTP Header åç§°ï¼Œè¿”å› <code>'X-Device-Fingerprint'</code>ã€‚</p>
        </div>
      </div>

      <div class="api-section">
        <h3>é…ç½®é¡¹ (FingerprintConfig)</h3>

        <table class="api-table">
          <thead>
            <tr>
              <th>å‚æ•°</th>
              <th>ç±»å‹</th>
              <th>é»˜è®¤å€¼</th>
              <th>è¯´æ˜</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>cacheExpiry</code></td>
              <td><code>number</code></td>
              <td>20å¹´ (ms)</td>
              <td>ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰</td>
            </tr>
            <tr>
              <td><code>enableIndexedDB</code></td>
              <td><code>boolean</code></td>
              <td><code>true</code></td>
              <td>æ˜¯å¦å¯ç”¨ IndexedDB å­˜å‚¨</td>
            </tr>
            <tr>
              <td><code>storageKeyPrefix</code></td>
              <td><code>string</code></td>
              <td><code>'df'</code></td>
              <td>å­˜å‚¨é”®åå‰ç¼€</td>
            </tr>
            <tr>
              <td><code>version</code></td>
              <td><code>number</code></td>
              <td><code>1</code></td>
              <td>ç‰ˆæœ¬å·ï¼ˆç”¨äºåç»­å‡çº§ï¼‰</td>
            </tr>
            <tr>
              <td><code>strictBrowserMode</code></td>
              <td><code>boolean</code></td>
              <td><code>false</code></td>
              <td>ä¸¥æ ¼æµè§ˆå™¨æ¨¡å¼ï¼Œå¯ç”¨ååŒä¸€è®¾å¤‡ä¸åŒæµè§ˆå™¨ä¼šäº§ç”Ÿä¸åŒæŒ‡çº¹</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="api-section">
        <h3>å¸¸é‡</h3>
        <div class="api-item">
          <h4><code>HTTP_HEADER_NAME</code></h4>
          <p>HTTP è¯·æ±‚å¤´åç§°å¸¸é‡ï¼Œå€¼ä¸º <code>'X-Device-Fingerprint'</code>ã€‚</p>
        </div>
      </div>

      <div class="api-section">
        <h3>é‡‡é›†ç»´åº¦</h3>
        <table class="api-table">
          <thead>
            <tr>
              <th>ç»´åº¦</th>
              <th>è¯´æ˜</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Canvas</td>
              <td>Canvas 2D æ¸²æŸ“ç‰¹å¾ï¼Œä¸åŒè®¾å¤‡çš„å­—ä½“æ¸²æŸ“ã€æŠ—é”¯é½¿ç­‰æœ‰å·®å¼‚</td>
            </tr>
            <tr>
              <td>WebGL</td>
              <td>GPU æ¸²æŸ“å™¨ä¿¡æ¯ã€æ‰©å±•åˆ—è¡¨ã€æœ€å¤§çº¹ç†å°ºå¯¸ç­‰</td>
            </tr>
            <tr>
              <td>Audio</td>
              <td>éŸ³é¢‘å¤„ç†ç‰¹å¾ï¼Œé€šè¿‡ OfflineAudioContext ç”ŸæˆéŸ³é¢‘ä¿¡å·</td>
            </tr>
            <tr>
              <td>Screen</td>
              <td>å±å¹•åˆ†è¾¨ç‡ã€è‰²æ·±ã€åƒç´ æ¯”ã€è§¦æ‘¸æ”¯æŒç­‰</td>
            </tr>
            <tr>
              <td>System</td>
              <td>æ—¶åŒºã€è¯­è¨€ã€CPU æ ¸å¿ƒæ•°ã€å†…å­˜ã€å¹³å°ä¿¡æ¯ç­‰</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- åœ¨çº¿æµ‹è¯• -->
  <section id="demo" class="section">
    <div class="container">
      <h2>åœ¨çº¿æµ‹è¯•</h2>
      <p class="section-desc">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æµ‹è¯•æŒ‡çº¹é‡‡é›†åŠŸèƒ½ï¼ŒæŸ¥çœ‹å½“å‰è®¾å¤‡çš„æŒ‡çº¹ä¿¡æ¯ã€‚</p>

      <div class="demo-panel">
        <div class="demo-config">
          <h4>é…ç½®é€‰é¡¹</h4>
          <div class="config-item">
            <label>
              <input type="checkbox" id="config-indexeddb" checked>
              å¯ç”¨ IndexedDB
            </label>
          </div>
          <div class="config-item">
            <label>
              <input type="checkbox" id="config-strict">
              ä¸¥æ ¼æµè§ˆå™¨æ¨¡å¼
            </label>
            <span class="config-hint">å¯ç”¨ååŒä¸€è®¾å¤‡ä¸åŒæµè§ˆå™¨äº§ç”Ÿä¸åŒæŒ‡çº¹</span>
          </div>
          <div class="config-item">
            <label>å­˜å‚¨å‰ç¼€ï¼š</label>
            <input type="text" id="config-prefix" value="df" class="config-input">
          </div>
        </div>

        <div class="demo-actions">
          <button id="btn-generate" class="btn btn-primary">ç”ŸæˆæŒ‡çº¹</button>
          <button id="btn-refresh" class="btn btn-secondary">å¼ºåˆ¶åˆ·æ–°</button>
          <button id="btn-clear" class="btn btn-danger">æ¸…é™¤ç¼“å­˜</button>
        </div>

        <div class="demo-result" id="demo-result">
          <div class="result-placeholder">ç‚¹å‡»"ç”ŸæˆæŒ‡çº¹"æŒ‰é’®å¼€å§‹æµ‹è¯•</div>
        </div>
      </div>
    </div>
  </section>

  <!-- æµè§ˆå™¨å…¼å®¹æ€§ -->
  <section id="compatibility" class="section section-alt">
    <div class="container">
      <h2>æµè§ˆå™¨å…¼å®¹æ€§</h2>
      <div class="compat-grid">
        <div class="compat-item">
          <div class="compat-icon">ğŸŒ</div>
          <div class="compat-name">Chrome</div>
          <div class="compat-version">60+</div>
        </div>
        <div class="compat-item">
          <div class="compat-icon">ğŸ¦Š</div>
          <div class="compat-name">Firefox</div>
          <div class="compat-version">55+</div>
        </div>
        <div class="compat-item">
          <div class="compat-icon">ğŸ§­</div>
          <div class="compat-name">Safari</div>
          <div class="compat-version">11+</div>
        </div>
        <div class="compat-item">
          <div class="compat-icon">ğŸ“˜</div>
          <div class="compat-name">Edge</div>
          <div class="compat-version">79+</div>
        </div>
      </div>
    </div>
  </section>

  <!-- æ³¨æ„äº‹é¡¹ -->
  <section id="notes" class="section">
    <div class="container">
      <h2>æ³¨æ„äº‹é¡¹</h2>
      <div class="notes-list">
        <div class="note-item">
          <div class="note-icon">âš–ï¸</div>
          <div class="note-content">
            <h4>éšç§åˆè§„</h4>
            <p>ä½¿ç”¨å‰è¯·ç¡®ä¿ç¬¦åˆå½“åœ°éšç§æ³•è§„ï¼ˆå¦‚ GDPRã€CCPAï¼‰ï¼Œå»ºè®®åœ¨éšç§æ”¿ç­–ä¸­è¯´æ˜è®¾å¤‡æŒ‡çº¹çš„ä½¿ç”¨ã€‚</p>
          </div>
        </div>
        <div class="note-item">
          <div class="note-icon">ğŸ”</div>
          <div class="note-content">
            <h4>éå”¯ä¸€æ ‡è¯†</h4>
            <p>è®¾å¤‡æŒ‡çº¹ä¸åº”ä½œä¸ºå”¯ä¸€èº«ä»½æ ‡è¯†ï¼Œå»ºè®®ä¸å…¶ä»–è®¤è¯æ–¹å¼ç»“åˆä½¿ç”¨ã€‚</p>
          </div>
        </div>
        <div class="note-item">
          <div class="note-icon">ğŸ—‘ï¸</div>
          <div class="note-content">
            <h4>ç¼“å­˜æ¸…é™¤</h4>
            <p>ç”¨æˆ·æ¸…é™¤æµè§ˆå™¨æ•°æ®ä¼šå¯¼è‡´æŒ‡çº¹é‡æ–°ç”Ÿæˆï¼Œè¿™æ˜¯æ­£å¸¸è¡Œä¸ºã€‚</p>
          </div>
        </div>
        <div class="note-item">
          <div class="note-icon">ğŸ–¥ï¸</div>
          <div class="note-content">
            <h4>åŒè®¾å¤‡ç›¸åŒæŒ‡çº¹</h4>
            <p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒåŒä¸€è®¾å¤‡ä¸Šä¸åŒæµè§ˆå™¨ï¼ˆå¦‚ Chrome å’Œé’‰é’‰å†…ç½®æµè§ˆå™¨ï¼‰å¯èƒ½äº§ç”Ÿç›¸åŒæŒ‡çº¹ï¼Œè¿™æ˜¯è®¾å¤‡æŒ‡çº¹çš„æ­£ç¡®è¡Œä¸ºã€‚å¦‚éœ€åŒºåˆ†ï¼Œè¯·å¯ç”¨ <code>strictBrowserMode</code>ã€‚</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>MIT License Â© 2024 @gangdai/fingerprint</p>
      <p>
        <a href="https://github.com/gangdai/fingerprint">GitHub</a> Â·
        <a href="https://www.npmjs.com/package/@gangdai/fingerprint">npm</a>
      </p>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/typescript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/bash.min.js"></script>
  <!-- ä½¿ç”¨æ‰“åŒ…åçš„æŒ‡çº¹åº“ -->
  <script src="index.browser.js"></script>
  <script src="app.js"></script>
</body>
</html>
